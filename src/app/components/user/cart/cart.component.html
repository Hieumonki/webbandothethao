<section class="cart">
  <div class="container">
    <h1>Gi·ªè h√†ng c·ªßa b·∫°n</h1>

    <table class="cart-table" *ngIf="cartItems.length > 0; else emptyCart">
      <thead>
        <tr>
          <th>S·∫£n ph·∫©m</th>
          <th>Gi√°</th>
          <th>S·ªë l∆∞·ª£ng</th>
          <th>T·∫°m t√≠nh</th>
          <th>Xo√°</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of cartItems">
          <td class="product-info">
            <img [src]="item.product.image" [alt]="item.product.name" />
            <div>
              <span><strong>{{ item.product.name }}</strong></span><br />
              <small>Size: {{ item.selectedSize }}</small><br />
              <small>M√†u: {{ item.selectedColor }}</small>
            </div>
          </td>
          <td>{{ item.product.price | number }}‚Ç´</td>
          <td>
            <button (click)="decrease(item.product._id)">-</button>
            {{ item.quantity }}
            <button (click)="increase(item.product)">+</button>
          </td>
          <td>{{ item.product.price * item.quantity | number }}‚Ç´</td>
          <td>
            <button class="remove-btn" (click)="removeAll(item.product._id)">X</button>
          </td>
        </tr>

      </tbody>
    </table>

    <ng-template #emptyCart>
      <p>üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng.</p>
    </ng-template>

    <div class="cart-total" *ngIf="cartItems.length > 0">
      <p><strong>T·ªïng c·ªông: </strong>{{ getTotal() | number:'1.0' }} VNƒê</p>
      <button class="checkout-btn" (click)="checkout()">Ti·∫øn h√†nh thanh to√°n</button>
    </div>
  </div>
</section>
