<main class="product-detail-page">
  <div class="product-detail-container">
    <!-- GALLERY -->
    <div class="product-gallery">
      <div class="thumbnails">
        <img [src]="product.imagerv" alt="·∫¢nh ph·ª• 1" />
        <img [src]="product.imagervv" alt="·∫¢nh ph·ª• 2" />
        <img [src]="product.imagervvv" alt="·∫¢nh ph·ª• 3" />
        <img [src]="product.imagervvvv" alt="·∫¢nh ph·ª• 4" />
      </div>
      <div class="main-image">
        <img [src]="product.image" alt="·∫¢nh ch√≠nh" />
      </div>
    </div>

    <!-- INFO -->
    <div class="product-info">
      <h1>{{ product.name }}</h1>
      <p class="sku">M√£ SP: 1</p>
      <p class="price">
        {{ product.price ? (product.price | currency:'VND':'symbol') : 'Li√™n h·ªá' }}
      </p>

      <!-- M√ÄU S·∫ÆC -->
      <label>M√†u s·∫Øc:</label>
      <div class="color-options">
        <button
          *ngFor="let color of colors"
          class="color-btn"
          [class.active]="selectedColor === color"
          (click)="selectColor(color)">
          {{ color }}
        </button>
      </div>

      <!-- SIZE -->
      <label>K√≠ch th∆∞·ªõc:</label>
      <div class="sizes">
        <button *ngFor="let size of sizes" [class.active]="selectedSize === size" (click)="selectSize(size)">
          {{ size }}
        </button>
      </div>

      <label>S·ªë l∆∞·ª£ng:</label>
      <input type="number" [(ngModel)]="quantity" min="1" />

      <div class="buttons">
        <button class="add-to-cart" (click)="addToCart(product)">Th√™m v√†o gi·ªè</button>
        <button class="buy-now" (click)="muaNgay(product)">Mua ngay</button>
      </div>
    </div>
  </div>

  <!-- M√î T·∫¢ -->
  <div class="product-description">
    <h2>M√¥ t·∫£ s·∫£n ph·∫©m</h2>
    <p>{{ product.describe }}</p>
  </div>

  <!-- G·ª¢I √ù -->
  <div class="related-products">
    <h2 class="related-title">C√≥ th·ªÉ b·∫°n c≈©ng th√≠ch</h2>
    <div class="product-grid">
      <div class="product-card" *ngFor="let item of relatedProducts">
        <ng-container *ngIf="item._id !== product._id">
          <img [src]="item.image" alt="{{ item.name }}" class="product-img" />
          <h4 class="product-name">{{ item.name }}</h4>
          <p class="product-price">
            {{ item.price ? (item.price | currency:'VND':'symbol') : 'Li√™n h·ªá' }}
          </p>
          <div class="product-actions">
            <button (click)="addToCart(item)" class="btn-add">üõí</button>
            <a [routerLink]="['/product-detail', item._id]">
              <button class="btn-view">Xem</button>
            </a>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
</main>
